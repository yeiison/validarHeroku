<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>Pedidos</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">

<body>
    <div class="container my-5">
        <header class="row">
            <aside class="col-md-7">
            <h3>Pedidos</h3>      
            </aside>
            <aside class="col-md-3">
                <a href="/pedidos/index" class="btn btn-primary"> <i class="fas fa-home"></i></a>
            </aside>
        </header>
        <div class="card">
            <div class="card-body">
                <div class="col-md-10">
                    <form action="#" th:action="@{/pedidos/add}" th:object="${pedido}" method="post">
                        <div class="row">

                        	<div class="form-group col-md-8">
                                <label for="idCliente" class="col-form-label">Nombre Cliente</label>
                                <select th:field= "${clientes}" class="form-control">
                                    <option value="">Nombre Cliente</option>
                                    <option th:each="cliente : ${clientes}" 
                                            th:value="${cliente.idCliente}"
                                            th:text="${cliente.nomCliente}" >
                                </select> 
                            </div> 
 
                            <div class="form-group col-md-8">
                                <label for="idProducto" class="col-form-label">Nombre producto</label>
                                <select th:field= "${productos}" class="form-control">
                                    <option value="">Nombre producto</option>
                                    <option th:each="producto : ${productos}" 
                                            th:value="${producto.idProducto}"
                                            th:text="${producto.nomProducto}">
                                </select>
                            </div>

                            <div class="form-group col-md-8">
                                <label for="fecha" class="col-form-label">Fecha</label> <input type="text" th:field="*{fecha}" class="form-control" id="fecha" placeholder="Fecha"> <span th:if="${#fields.hasErrors('fecha')}" th:errors="*{fecha}" class="text-danger"></span>
                            </div>

                            <div class="form-group col-md-8">
                                <label for="cantidad" class="col-form-label">Cantidad</label> <input type="text" th:field="*{cantidad}" class="form-control" id="cantidad" placeholder="Cantidad"> <span th:if="${#fields.hasErrors('cantidad')}" th:errors="*{cantidad}" class="text-danger"></span>
                            </div>

                            <div class="form-group col-md-8">
                                <label for="valorProducto" class="col-form-label">Valor producto</label> <input type="text" th:field="*{valorProducto}" class="form-control" id="valorProducto" placeholder="Valor producto"> <span th:if="${#fields.hasErrors('valorProducto')}" th:errors="*{valorProducto}" class="text-danger"></span>
                            </div>


                            <div class="col-md-6">
                                <input type="submit" class="btn btn-primary" value="Agregar">
                            </div>

                            <div class="form-group col-md-8"></div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="container my-2">
        <div class="card">
            <div class="card-body">
                <div th:switch="${clientes}" class="container my-5">
                    <div class="col-md-10">
                        <h2 th:case="null">No hay Pedidos registrados</h2>
                        <div th:case="*">
                           <table class="table table-striped table-responsive-md">
                                <thead>
                                    <tr>
                                       <!-- <th>Nombre Cliente</th>
                                        <th>Nombre producto</th> -->
                                        <th>Fecha</th>
                                        <th>Cantidad</th>
                                        <th>Valor producto</th>
                                        <th>Editar</th>
                                        <th>Borrar</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="pedido : ${pedidos}">
                                        <!-- <td th:text="${cliente.nomCliente}"></td>
                                        <td th:text="${producto.distribuidora}"></td> -->
                                        <td th:text="${pedido.fecha}"></td>
                                        <td th:text="${pedido.cantidad}"></td>
                                        <td th:text="${pedido.valorProducto}"></td>
                                    
                                        <td> <!--<a th:href="@{/pedidos/edit/{id}(id=${pedido.id})}" class="btn btn-primary"> --> <i class="fas fa-user-edit ml-2"></i></a></td>
                                        <td><!--<a th:href="@{/pedidos/delete/{id}(id=${pedido.Id})}" class="btn btn-primary">--><i class="fas fa-user-times ml-2"></i></a></td>
                                    
                                    
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>